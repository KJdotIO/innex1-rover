rgbd_odometry:
  ros__parameters:
    # Issue #57: EKF handles the main odom transform
    publish_tf: false
    frame_id: "base_footprint"
    odom_frame_id: "odom"
    subscribe_depth: true
    approx_sync: true
    # Strategy for future reversing
    Odom/Strategy: "1" # Frame-to-Map
    # Conservative feature detection for sand
    Vis/MinInliers: "15"
    Vis/FeatureType: "8" # GFTT/ORB

rtabmap:
  ros__parameters:
    # Global EKF now owns map -> odom; RTAB-Map only builds the map
    publish_tf: false
    subscribe_depth: true
    approx_sync: true
    # Mapping resolution (matches Nav2)
    Grid/CellSize: "0.05"
    # Search for loops based on physical proximity
    RGBD/ProximityBySpace: "true"
    # Optimization for flat arena
    Optimizer/Slam2D: "true"
    frame_id: "base_footprint"
    odom_frame_id: "odom"
    map_frame_id: "map"
